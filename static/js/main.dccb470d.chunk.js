(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},104:function(e,t){},105:function(e,t){},106:function(e,t){},271:function(e,t,a){e.exports=a.p+"static/media/milos.6d8eb209.jpg"},272:function(e,t,a){e.exports=a.p+"static/media/will-smith.490f4869.jpg"},273:function(e,t,a){e.exports=a.p+"static/media/gorrito.538a753b.png"},274:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(90),i=a.n(c),r=(a(98),a(32)),l=a(33),s=a(35),m=a(34),d=a(36),u=a(9),f=a(14),h=a(91),v=a(92),g=[{name:"Bob esponja",tags:["Helado","Esponja enloqueciste"],url:"https://i.ytimg.com/vi/1gPtZxKbl9g/hqdefault.jpg"},{name:"CR7",tags:["CR7","SIU"],url:"https://images.mediotiempo.com/EB_bKN3nLnGgacxJ0oAVBuJYDCc=/958x596/uploads/media/2019/08/06/cristiano-ronaldo-revela-significado-grito.jpg"}],b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).changeColor=function(e){a.setState({textColor:e.hex}),a.canvas.getActiveObjects().map(function(e){switch(e.type){case"textbox":e.set("fill",a.state.textColor)}}),a.reloadCanvas()},a.state={textColor:"black",showColorPicker:!0},a._keyHandler=a._keyHandler.bind(Object(u.a)(Object(u.a)(a))),a._showerHandler=a._showerHandler.bind(Object(u.a)(Object(u.a)(a))),a._resizeCanvas=a._resizeCanvas.bind(Object(u.a)(Object(u.a)(a))),a.setBackgroundImage=a.setBackgroundImage.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"_resizeCanvas",value:function(){}},{key:"_keyHandler",value:function(e){var t=this.canvas;switch(e.key){case"Delete":t.getActiveObjects().map(function(e){return t.remove(e)})}}},{key:"_showerHandler",value:function(e){this.setState({showColorPicker:e})}},{key:"componentDidMount",value:function(){var e=window.innerHeight,t=window.innerWidth,n=new f.fabric.Canvas("c");this.canvas=n,n.width=200;var o=new Image;o.src=a(271),o.crossOrigin="",o.onload=function(){console.log(e,t);console.log(1*n.width),n.setDimensions({height:.6*e,width:.6*t}),n.setBackgroundImage(new f.fabric.Image(o),n.renderAll.bind(n),{backgroundImageStretch:!0,scaleX:n.width/o.width,scaleY:n.height/o.height})};var c=new Image;c.src=a(272),c.onload=function(){var e=new f.fabric.Text("Momingo.net");e.fill="white",e.evented=!1,e.selectable=!1,e.fontSize=20,e.top=n.getHeight()/2,n.add(e)},document.addEventListener("keydown",this._keyHandler,!1),window.addEventListener("resize",this._resizeCanvas,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",null)}},{key:"addAccesory",value:function(){var e=new Image;e.src=a(273);var t=this.canvas;e.onload=function(){var a=new f.fabric.Image(e);a.scaleX=.5,a.scaleY=.5,t.add(a)}}},{key:"addText",value:function(){var e=new f.fabric.Textbox("Escribe aqui");e.setColor(this.state.textColor),e.fontSize=18,this.canvas.add(e),this.canvas.setActiveObject(e)}},{key:"saveFile",value:function(){document.getElementById("c").toBlob(function(e){Object(h.saveAs)(e,"meme.jpg")})}},{key:"reloadCanvas",value:function(){this.canvas.renderAndReset()}},{key:"showColorPicker",value:function(){if(this.state.showColorPicker)return o.a.createElement(v.TwitterPicker,{color:this.state.textColor?this.state.textColor:"#fff",triangle:"hide",onChangeComplete:this.changeColor,colors:["#fff","#000"]})}},{key:"setBackgroundImage",value:function(e){var t=this.canvas;t.setBackgroundImage(e,t.renderAll.bind(t),{backgroundImageStretch:!0,scaleX:t.width/e.width,scaleY:t.height/e.height})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark fixed-top"},o.a.createElement("a",{className:"navbar-brand",style:{color:"#fff"}},"Momingo.net")),o.a.createElement("main",{role:"main"},o.a.createElement("h1",{className:"text-center"},"Momingo Generator"),o.a.createElement("br",null),o.a.createElement("form",{className:"form-inline"},o.a.createElement("div",null,o.a.createElement("label",{for:"search"},"Buscar plantilla: "),o.a.createElement("input",{className:"form-control",id:"search",type:"text"})),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-success"},"Buscar"))),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"d-flex flex-row"},this.showColorPicker(),o.a.createElement("button",{className:"btn btn-light",onClick:function(){e.addAccesory()}},"I"),o.a.createElement("button",{className:"btn btn-light",title:"Agrega texto",onClick:function(){e.addText()}},o.a.createElement("i",{className:"fa fa-font"})),o.a.createElement("button",{className:"btn btn-light",title:"SAVE",onClick:function(){e.saveFile()}},o.a.createElement("i",{className:"fa fa-save"})),o.a.createElement("button",{className:"btn btn-light",title:"DELETE",onClick:function(){e.canvas.getActiveObjects().map(function(t){return e.canvas.remove(t)})}}," ",o.a.createElement("i",{className:"fa fa-remove"})),o.a.createElement("button",{className:"btn btn-light",title:"DELETE",onClick:function(){e.setState({showColorPicker:!e.state.showColorPicker})}}," ",o.a.createElement("i",{className:"fa fa-remove"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6",id:"imageContainer"}," ",o.a.createElement("canvas",{id:"c"})),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("p",null,"Upload stuff")))),o.a.createElement("div",null,g.map(function(t){return o.a.createElement("div",{onClick:function(){var a=e.setBackgroundImage;f.fabric.Image.fromURL(t.url,function(e){console.log(e.crossOrigin),a(e)},null,{crossOrigin:"anonymous"})}},o.a.createElement("p",null,t.name),o.a.createElement("img",{height:"auto",width:"auto",src:t.url}))}))))}}]),t}(n.Component);a(274),n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){e.exports=a(275)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.dccb470d.chunk.js.map