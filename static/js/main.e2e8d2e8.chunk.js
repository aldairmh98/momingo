(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(306)},122:function(e,t,a){},127:function(e,t){},128:function(e,t){},129:function(e,t){},130:function(e,t){},300:function(e,t,a){e.exports=a.p+"static/media/milos.6d8eb209.jpg"},301:function(e,t,a){e.exports=a.p+"static/media/will-smith.490f4869.jpg"},306:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(19),i=a.n(o),l=(a(122),a(21)),r=a(22),s=a(25),m=a(23),u=a(24),d=a(11),h=a(29),f=a(111),v=[{name:"Bob esponja",tags:["Helado","Esponja enloqueciste"],url:"https://i.imgur.com/1Lisqti.jpg"},{name:"CR7",tags:["CR7","SIU"],url:"https://drive.google.com/uc?export=view&id=1m9J6cWExH8aCY9sM53klRDBchbEDUe_r"},{name:"Bob esponja",tags:["Helado","Esponja enloqueciste"],url:"https://i.imgur.com/1Lisqti.jpg"},{name:"CR7",tags:["CR7","SIU"],url:"https://i.imgur.com/1Lisqti.jpg"}],b=[{name:"Gorrito",tags:["Gorro","Gorrito","Sombrero"],url:"https://drive.google.com/uc?export=view&id=1m9J6cWExH8aCY9sM53klRDBchbEDUe_r"}],g=a(308),p=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={fetching:!0},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"myfun",value:function(){var e=this;setTimeout(function(){e.setState({fetching:!1})},3e3)}},{key:"componentDidMount",value:function(){this.myfun()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container"}," ",c.a.createElement("form",{className:"form-inline mb-3"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{"mt-2":!0,for:"search"},"Buscar plantilla "),c.a.createElement("input",{className:"form-control mt-2 ml-2 mr-1",id:"search",type:"text"})),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-success mt-2 mr-2"},"Buscar"))),this.state.fetching?c.a.createElement("div",{className:"p-4",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},c.a.createElement(g.a,{animation:"grow"}),c.a.createElement("p",{className:"text-center"},c.a.createElement("bold",null,"Cargando..."))):c.a.createElement("div",{className:"row"},v.map(function(t){return c.a.createElement("div",{className:"col-md-4",onClick:function(){e.props.onSelection(t.url)}},c.a.createElement("p",null,t.name),c.a.createElement("img",{alt:t.name,width:"100%",src:t.url}))})))}}]),t}(n.Component),E=a(309),k=a(310),w=a(113),C=a(68),y=a(70),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={showColorPicker:!1},a.ctx=a.props.context,a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"showColorPicker",value:function(){var e=this;if(this.state.showColorPicker)return c.a.createElement("div",{className:"d-flex flex-wrap"},c.a.createElement(w.TwitterPicker,{color:this.ctx.state.textColor?this.ctx.state.textColor:"#fff",triangle:"hide",onChangeComplete:this.ctx.changeColor,colors:["#fff","#000"]}),c.a.createElement("button",{className:"btn btn-light",title:"Close",onClick:function(){e.setState({showColorPicker:!e.state.showColorPicker})}}," ",c.a.createElement("i",{className:"fa fa-close"})))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"mb-3 mt-3",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"auto",padding:10,border:"2px solid white",borderRadius:10,boxShadow:".5px .5px .5px .5px grey"}},c.a.createElement("p",{className:"text-center"},c.a.createElement("b",null,"Herramientas")),c.a.createElement("div",{className:"d-flex flex-wrap"},this.showColorPicker(),c.a.createElement("input",{id:"file-input",type:"file",name:"name",style:{display:"none"}}),c.a.createElement("button",{className:"btn btn-light",title:"stickers",onClick:function(){e.ctx.openStickers(),e.ctx.addAccesory()}},c.a.createElement(C.a,{icon:y.b})),c.a.createElement("button",{className:"btn btn-light",title:"Agrega texto",onClick:function(){e.setState({showColorPicker:!e.state.showColorPicker}),e.ctx.addText()}},c.a.createElement("i",{className:"fa fa-font"})),c.a.createElement("button",{className:"btn btn-light",title:"Color",onClick:function(){e.setState({showColorPicker:!e.state.showColorPicker})}},c.a.createElement("i",{className:"fa fa-tint"})),c.a.createElement("button",{className:"btn btn-light",title:"SAVE",onClick:function(){e.ctx.saveFile()}},c.a.createElement("i",{className:"fa fa-save"})),c.a.createElement("button",{className:"btn btn-light",title:"DELETE",onClick:function(){e.ctx.deleteActiveObjects()}}," ",c.a.createElement("i",{className:"fa fa-trash"})),c.a.createElement("button",{className:"btn btn-light",title:"Reiniciar",onClick:function(){e.ctx.resetCanvas()}}," ",c.a.createElement(C.a,{icon:y.a}))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={fetching:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null," ",this.state.fetching?c.a.createElement("div",{className:"p-4",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},c.a.createElement(g.a,{animation:"grow"}),c.a.createElement("p",{className:"text-center"},c.a.createElement("bold",null,"Cargando..."))):c.a.createElement("div",{className:"row"},b.map(function(t){return c.a.createElement("div",{className:"col-md-4",onClick:function(){e.props.onSelection(t.url)}},c.a.createElement("p",null,t.name),c.a.createElement("img",{alt:t.name,width:"100%",src:t.url}))})," "))}}]),t}(n.Component),O="Plantillas",N="Stickers",S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).changeColor=function(e){a.setState({textColor:e.hex}),a.canvas.getActiveObjects().map(function(e){switch(e.type){case"textbox":e.set("fill",a.state.textColor)}return 0}),a.reloadCanvas()},a.openCloseModal=function(){a.setState({show:!a.state.show})},a.state={textColor:"black",showColorPicker:!1,show:!1,textSelected:!1,modals:null},a._keyHandler=a._keyHandler.bind(Object(d.a)(Object(d.a)(a))),a._showerHandler=a._showerHandler.bind(Object(d.a)(Object(d.a)(a))),a._resizeCanvas=a._resizeCanvas.bind(Object(d.a)(Object(d.a)(a))),a.setBackgroundImage=a.setBackgroundImage.bind(Object(d.a)(Object(d.a)(a))),a.addAccesory=a.addAccesory.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"_resizeCanvas",value:function(){}},{key:"_keyHandler",value:function(e){this.canvas;switch(e.key){case"Delete":this.deleteActiveObjects()}}},{key:"deleteActiveObjects",value:function(){var e=this.canvas;e.getActiveObjects().map(function(t){return e.remove(t)})}},{key:"_showerHandler",value:function(e){this.setState({showColorPicker:e})}},{key:"componentDidMount",value:function(){var e=document.getElementById("imageContainer").clientWidth,t=new h.fabric.Canvas("c");this.canvas=t,this.canvas.setWidth(.9*e),this.canvas.setHeight(.7*e);var n=new Image;n.src=a(300),n.crossOrigin="",n.onload=function(){t.setBackgroundImage(new h.fabric.Image(n),t.renderAll.bind(t),{backgroundImageStretch:!0,scaleX:t.width/n.width,scaleY:t.height/n.height})};var c=new Image;c.src=a(301),c.onload=function(){var e=new h.fabric.Text("Momingo.net");e.fill="white",c.name="waterMark",e.evented=!1,e.selectable=!1,e.fontSize=20,e.top=t.getHeight()/2,t.add(e)},document.addEventListener("keydown",this._keyHandler,!1),window.addEventListener("resize",this._resizeCanvas,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",null)}},{key:"addAccesory",value:function(e){var t=new Image;t.src=e;var a=this.canvas;t.onload=function(){var e=new h.fabric.Image(t);e.scaleToWidth(.25*a.getWidth()),a.add(e)}}},{key:"addText",value:function(){var e=new h.fabric.Textbox("Escribe aqui");e.setColor(this.state.textColor),e.fontSize=18,this.canvas.add(e),this.canvas.setActiveObject(e)}},{key:"saveFile",value:function(){document.getElementById("c").toBlob(function(e){Object(f.saveAs)(e,"meme.jpg")})}},{key:"reloadCanvas",value:function(){this.canvas.renderAndReset()}},{key:"resetCanvas",value:function(){var e=this.canvas;this.canvas.getObjects().map(function(t){"text"!==t.type&&e.remove(t)})}},{key:"setBackgroundImage",value:function(e){var t=new Image;t.crossOrigin="Anonymous",t.src=e;var a=this.canvas;t.onload=function(){a.setBackgroundImage(new h.fabric.Image(t),a.renderAll.bind(a),{backgroundImageStretch:!0,scaleX:a.width/t.width,scaleY:a.height/t.height})}}},{key:"conditionalModal",value:function(){switch(this.state.modals){case O:return c.a.createElement(p,{onSelection:this.setBackgroundImage});case N:return c.a.createElement(j,{onSelection:this.addAccesory})}return null}},{key:"openStickers",value:function(){this.setState({modals:N}),this.openCloseModal()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark fixed-top"},c.a.createElement("a",{className:"navbar-brand",style:{color:"#fff"}},"Momingo.net")),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h3",{className:"text-center"},"Momingo Generator"),c.a.createElement("br",null),c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-md-3"}),c.a.createElement("div",{className:"col-md-6 pr-3",id:"imageContainer"},c.a.createElement("form",{className:"form-inline"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(t){t.preventDefault(),e.setState({modals:O}),e.openCloseModal()},className:"btn btn-success mt-2 mr-2"},"Buscar plantillas"),c.a.createElement("button",{onClick:function(e){},className:"btn btn-info mt-2"},"Seleccionar propia"))),c.a.createElement(x,{context:this}),c.a.createElement("canvas",{id:"c"}))),c.a.createElement(E.a,{size:"lg",show:this.state.show,onHide:this.openCloseModal},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,this.state.modals)),c.a.createElement(E.a.Body,null,this.conditionalModal()),c.a.createElement(E.a.Footer,null,c.a.createElement(k.a,{variant:"secondary",onClick:this.openCloseModal},"Close"),c.a.createElement(k.a,{variant:"primary",onClick:function(){}},"Save Changes")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[117,1,2]]]);
//# sourceMappingURL=main.e2e8d2e8.chunk.js.map